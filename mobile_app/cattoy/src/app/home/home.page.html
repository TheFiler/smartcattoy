<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title slot="start">
      Smart Cattoy
    </ion-title>
    <ion-toggle slot="end" class="ion-margin" [(ngModel)]="streamOn" (click)="toggleStream()">Stream</ion-toggle>
    <ion-toggle slot="end" class="ion-margin" [(ngModel)]="connectionState" (click)="connectToServer()">Connection</ion-toggle>
    <ion-toggle slot="end" class="ion-margin" [(ngModel)]="autopilotOn" (click)="startAutopilot()">Autopilot</ion-toggle>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Blank</ion-title>
    </ion-toolbar>
  </ion-header>

  <div id="stream" [hidden]="!this.streamOn" style="padding-bottom: 100px;">
    <video id="player" class="video-js">
      <source src="http://mattl02.com/bucket/stream.m3u8" type="application/x-mpegURL">
    </video>
  </div>
  <ion-row style="position: absolute; bottom: 0; width: 100%; padding-bottom: 250px;">
    <ion-col offset="6" size="6">
        <div #joystickVertical class="joystickVer"></div>
    </ion-col>
    
    <ion-col size="6">
        <div #joystickHorizontal class="joystickHor"></div>
    </ion-col>
  </ion-row>
</ion-content>


<ion-footer>
<ion-toolbar>
    <ion-row>
      <ion-col size="4">
        <ion-button expand="block" (click)="sendStaticAudio('truck_honk.mp3')">Play Sound 1</ion-button>
      </ion-col>
      <ion-col size="4">
        <ion-button expand="block" (click)="sendStaticAudio('car_honk.mp3')">Play Sound 2</ion-button>
      </ion-col>
      <ion-col size="4">
        <ion-button expand="block" (click)="sendStaticAudio('cashier_sound.mp3')">Play Sound 3</ion-button>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="6">
        <input type="file" accept=".mp3, .ogg, .wav" (change)="handleFileInput($event)">
      </ion-col>
      <ion-col size="3">
        <ion-button expand="block" (click)="sendFile()">Upload File</ion-button>
      </ion-col>
      <ion-col size="3">
        <ion-button expand="block" (click)="sendStopAudio()">Stop Sound</ion-button>
      </ion-col>
    </ion-row>
  </ion-toolbar>

</ion-footer>